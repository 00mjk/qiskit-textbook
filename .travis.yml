language: python

python: 3.7

add-ons:
  apt:
    packages:
      - pandoc

install:
  - pip install --upgrade pip
  - pip install jupyter
  - pip install nbconvert

script:
  - bash scripts/travis/convert-modified-notebooks.sh $TRAVIS_COMMIT_RANGE

deploy:
  skip_cleanup: true
  provider: script
  script: bash scripts/travis/push-rst.sh a-la-iqx
  on:
    branch: a-la-iqx
